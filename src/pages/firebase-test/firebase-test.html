<!--
  Generated template for the FirebaseTestPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Firebase Test</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <button ion-button (click) = "getProduct('-KuOh05_CRwaxf-LnIjY')" >getProduct('-KuOh05_CRwaxf-LnIjY')</button> <!--Note that the id here is different to the one in the .ts file-->
  <button ion-button (click) = "getProduct('-KuObmXeYx0-zxj1pbVm')" >getProduct('-KuObmXeYx0-zxj1pbVm')</button>
  <button ion-button (click) = "openPhotoGallery()">openPhotoGallery()</button>
  <button ion-button (click) = "uploadImage()">uploadImage()</button>
  <button ion-button (click) = "updateProductImageUrl('-product-1508636165485','-KuOh05_CRwaxf-LnIjY',1)">updateProductImageUrl('-product-1508636165485','-KuOh05_CRwaxf-LnIjY',1)</button>

  <div id="single-product-example" *ngIf="product!=null"><!--Show only if there is a product-->
    <h1>{{ (product | async | json) }}</h1> <!--JSON seems to always display 'null' for some reason, doesn't really matter-->
    <h1>{{ (product | async)?.owner }}</h1>
  </div>

  <div *ngIf="productsByUser!=null">
      <h1>Products by 'Tim Allen'</h1>
    <p *ngFor="let item of productsByUser | async">
        Item name: {{ item.name }}<br>
        Item owner: {{ item.owner }}<br>
        Item description: {{ item.description }}<br>
        Item image urls: {{ item.imgURL }}<br>
    </p>
  </div>

  <div id="product-list-example" *ngIf="products!=null">
      <h1>All products:</h1>
    <p *ngFor="let item of products | async">
        Item name: {{ item.name }}<br>
        Item owner: {{ item.owner }}<br>
        Item description: {{ item.description }}<br>
        Item image url: {{ ((item.images)?.imgURL1)?.imgURL }}<br>
    </p>
    <img [src] = {{((item.images)?.imgURL1)?.imgURL}}>
  </div>
</ion-content>